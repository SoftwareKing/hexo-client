---
title: MATLAB：矩阵的基本操作
date: 2017-05-06 17:07:12
tags:
- 教程
- MATLAB
categories:
- 教程
- MATLAB
---

# 1 创建矩阵

在MATLAB中创建矩阵有以下规则：

* 矩阵元素必须在”[ ]”内；
* 矩阵的同行元素之间用空格（或”,”）隔开；
* 矩阵的行与行之间用”;”（或回车符）隔开；
* 矩阵的元素可以是数值、变量、表达式或函数；
* 矩阵的尺寸不必预先定义。

最简单的建立矩阵的方法是从键盘直接输入矩阵的元素，输入的方法按照上面的规则。

另外，建立向量的时候还可以利用冒号表达式，冒号表达式可以产生一个行向量，一般格式是： e1:e2:e3，其中e1为初始值，e2为步长，e3为终止值。还可以用linspace函数产生行向量，其调用格式为：linspace(a,b,n) ，其中a和b是生成向量的第一个和最后一个元素，n是元素总数。<!--more-->

# 2 删除矩阵元素

把要删除的元素置为“空矩阵”即可。

如果是一维的行向量或列向量数组，a(a==0) = [] 就能解决问题
如果是多维的矩阵，a(a==0) = [] 会把a变成一维的行向量或列向量，然后结果类似于上面的结果。原因是每行每列中的0的个数不同，无法保持多维的样子，只能拉长了当成一维处理。

例如：
a =
4 4 4 2 2
4 0 3 2 2
2 1 2 4 3
3 0 5 4 4
1 0 0 1 4

a(a==0)=[]

a =

Columns 1 through 21

4 4 2 3 1 4 1 4 3 2 5 2 2 4 4 1 2 2 3 4 4

# 3 追加矩阵元素

比如对于：k=[1,2,3,4,5,6,7,8,9]，我希望获得k=[0,0,0,1,2,3,4,5,6,7,8,9]。

解决方案如下：

* 在开头添加：
  k = [0,0,0,k]


* 在末尾添加：
  k = [k,10] 或者k(end+1) = 10;
* 在中间添加：
  k = [k(1:5),5.5,k(6:end)]

# 4 保留矩阵元素，其余抛弃

* 根据数值关系判定是否保留：

  ```matlab
  a=a((a>30 & a<100));% 保留区间 [30，100]内的行向量
  ```

* 根据元素位置判定是否保留：

  ```matlab
  a=a(1:80); % 取前80个
  ```

  ​